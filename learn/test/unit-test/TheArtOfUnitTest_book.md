# The Art of Unit Testing 2nd Edition 讀書筆記
- [The Art of Unit Testing 2nd Edition 讀書筆記](#the-art-of-unit-testing-2nd-edition-讀書筆記)
  - [Chapter 1　單元測試基礎](#chapter-1單元測試基礎)
    - [單元測試的定義](#單元測試的定義)
    - [優秀單元測試的特質](#優秀單元測試的特質)
    - [寫測試前該問自己的問題: 若有一題為非那就表示你並不是在寫單元測試](#寫測試前該問自己的問題-若有一題為非那就表示你並不是在寫單元測試)
    - [整合測試](#整合測試)
    - [測試驅動開發 (Test-Driven Development)](#測試驅動開發-test-driven-development)
    - [成功進行TDD 的三種核心技能](#成功進行tdd-的三種核心技能)
  - [Chapter 2　第一個單元測試](#chapter-2第一個單元測試)
    - [2.1　單元測試框架](#21單元測試框架)
    - [2.1.1　單元測試框架提供哪些東西](#211單元測試框架提供哪些東西)
    - [2.1.2　xUnit 框架](#212xunit-框架)
    - [2.2　LogAn 專案介紹](#22logan-專案介紹)
    - [2.3　NUnit 的第一個步驟](#23nunit-的第一個步驟)
    - [2.3.1　安裝NUnit](#231安裝nunit)
    - [2.3.2　載入方案的方式](#232載入方案的方式)
    - [2.3.3　在程式中使用NUnit 的特性](#233在程式中使用nunit-的特性)
    - [2.4　撰寫第一個測試程式](#24撰寫第一個測試程式)
    - [2.4.1　Assert 類別](#241assert-類別)
    - [2.4.2　用NUnit 執行第一個測試](#242用nunit-執行第一個測試)
    - [2.4.3　增加正向的測試](#243增加正向的測試)
    - [2.4.4　由紅到綠：測試成功](#244由紅到綠測試成功)
    - [2.4.5　測試程式風格](#245測試程式風格)
    - [2.5　使用參數來重構測試](#25使用參數來重構測試)
    - [2.6　更多的NUnit 特性](#26更多的nunit-特性)
    - [2.6.1　setup 和teardown](#261setup-和teardown)
    - [2.6.2　驗證預期的例外](#262驗證預期的例外)
    - [2.6.3　忽略此測試](#263忽略此測試)
    - [2.6.4　NUnit 的流利語法](#264nunit-的流利語法)
    - [2.6.5　設定測試分類](#265設定測試分類)
    - [2.7　測試系統狀態的改變，而非驗證回傳值](#27測試系統狀態的改變而非驗證回傳值)
    - [2.8　小結](#28小結)



## Chapter 1　單元測試基礎
### 單元測試的定義
> 一個單元測試是一段自動化的code,而這段code調用被測試的工作單元,之後對這個單元的單個結果的假設進行驗證

- System Under Test (SUT): 被測試系統
    - 被測試的東西稱為SUT
  - 一個單元測試事一段code,範圍小到一個方法,大到多個類別
- 胡亂的寫出差勁的單元測試事沒有意義的


### 優秀單元測試的特質
- 自動化且可重複的
- 容易實現
- 第二天還有意義
- 任何人都能一鍵執行他
- 運行速度是快的
- 結果是很stable的
- 要能完全控制被測試的單元
- 完全隔離的(獨立於其他測試的運行)
- 失敗時應該要很容易定位問題

### 寫測試前該問自己的問題: 若有一題為非那就表示你並不是在寫單元測試
  - 前陣子寫的單元測試,現在還可以運行並得到應有的結果嗎? 
    - 回答:
      - 不能: 是否破壞了以前的功能
  - 團隊的同仁可以使用我寫過的Unit Test嗎
  - 我能在幾分鐘內跑完所有我寫過的Unit Test
  - 能一鍵運行所有的Unit Test嗎
  - 能在幾分鐘寫出Unit Test
  - 

### 整合測試
> 整合測是是一個對工作單元進行的測試,這個測試被測試的工作單元沒有完全的控制,並使用該單元的一個或多個真實依賴物,如時間、網路、DB、Thead...等等

- 定義: 
  - 任何test如果速度不夠快,結果不穩定或是需要用到被測試單元一個或多個依賴則認定為整合測試
  - 整合測試必須與單元測試分開: 確保**綠色安全區**
- 問題:
  - 一次測試的東西過多

- 遺留代碼:
  - 指與已經取消支持或維護的作業系統或其他計算機技術有關的原始碼

### 測試驅動開發 (Test-Driven Development)
- 說明:
    1. 撰寫一個會失敗的測試, 證明產品中的程式或功能缺失. 
        - 假設code可以正常運作:表示測試失敗說明產品有缺陷
    2.  撰寫符合測試預期的code,使測試通過. 保持程式的簡潔
    3.  重構程式: 使程式可讀性佳,更好維護,並保持測試案例的正確性

### 成功進行TDD 的三種核心技能
1. 僅僅做到先撰寫測試,並不能保證測試是可以維護的、可讀以及可靠的
2. 僅僅做到撰寫測試可讀可維護,並不能保證獲得先撰寫測試的好處
3. 僅僅做到先撰寫測試並 且可讀可維護,並不能保證妳得到一個完善的系統



## Chapter 2　第一個單元測試

### 2.1　單元測試框架
### 2.1.1　單元測試框架提供哪些東西
### 2.1.2　xUnit 框架
### 2.2　LogAn 專案介紹
### 2.3　NUnit 的第一個步驟
### 2.3.1　安裝NUnit
### 2.3.2　載入方案的方式
### 2.3.3　在程式中使用NUnit 的特性
### 2.4　撰寫第一個測試程式
### 2.4.1　Assert 類別
### 2.4.2　用NUnit 執行第一個測試
### 2.4.3　增加正向的測試
### 2.4.4　由紅到綠：測試成功
### 2.4.5　測試程式風格
### 2.5　使用參數來重構測試
### 2.6　更多的NUnit 特性
### 2.6.1　setup 和teardown
### 2.6.2　驗證預期的例外
### 2.6.3　忽略此測試
### 2.6.4　NUnit 的流利語法
### 2.6.5　設定測試分類
### 2.7　測試系統狀態的改變，而非驗證回傳值
### 2.8　小結